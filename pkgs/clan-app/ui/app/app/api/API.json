{
  "$comment": "An object containing API methods. ",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "cancel_task",
    "list_tasks",
    "open_file",
    "get_directory",
    "show_block_devices",
    "show_machine_hardware_config",
    "show_machine_hardware_platform",
    "generate_machine_hardware_info",
    "list_modules",
    "get_disk_schemas",
    "set_machine_disk_schema",
    "show_mdns",
    "load_inventory_json",
    "patch_inventory_with",
    "get_inventory_with_writeable_keys",
    "set_inventory",
    "get_inventory",
    "set_machine",
    "list_machines",
    "get_machine_details",
    "check_machine_online",
    "get_generators_closure",
    "generate_vars_for_machine",
    "create_clan",
    "show_clan_meta",
    "update_clan_meta",
    "maybe_get_admin_public_key",
    "list_possible_languages",
    "list_possible_keymaps",
    "flash_machine",
    "create_machine",
    "delete_machine",
    "install_machine",
    "deploy_machine",
    "get_vars",
    "get_generators",
    "set_prompts",
    "get_var",
    "keygen"
  ],
  "properties": {
    "cancel_task": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "null"
                }
              },
              "required": ["status", "op_key"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": ["task_id"],
          "additionalProperties": false,
          "properties": {
            "task_id": {
              "type": "string"
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "list_tasks": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              },
              "required": ["status", "op_key", "data"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": [],
          "additionalProperties": false,
          "properties": {
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "open_file": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "oneOf": [
                    {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              "required": ["status", "op_key"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": ["file_request"],
          "additionalProperties": false,
          "properties": {
            "file_request": {
              "type": "object",
              "properties": {
                "mode": {
                  "type": "string",
                  "enum": [
                    "open_file",
                    "select_folder",
                    "save",
                    "open_multiple_files"
                  ]
                },
                "title": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "filters": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "title": {
                          "oneOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "mime_types": {
                          "oneOf": [
                            {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "patterns": {
                          "oneOf": [
                            {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "suffixes": {
                          "oneOf": [
                            {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            {
                              "type": "null"
                            }
                          ]
                        }
                      },
                      "required": [],
                      "additionalProperties": false
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "initial_file": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "initial_folder": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              "required": ["mode"],
              "additionalProperties": false
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "get_directory": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "object",
                  "properties": {
                    "path": {
                      "type": "string"
                    },
                    "files": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "path": {
                            "type": "string"
                          },
                          "file_type": {
                            "type": "string",
                            "enum": ["file", "directory", "symlink"]
                          }
                        },
                        "required": ["file_type", "path"],
                        "additionalProperties": false
                      }
                    }
                  },
                  "required": ["path"],
                  "additionalProperties": false
                }
              },
              "required": ["status", "op_key", "data"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": ["flake"],
          "additionalProperties": false,
          "properties": {
            "flake": {
              "type": "object",
              "properties": {
                "identifier": {
                  "type": "string"
                },
                "inputs_from": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "hash": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "store_path": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              "required": ["identifier"],
              "additionalProperties": false
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "show_block_devices": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "object",
                  "properties": {
                    "blockdevices": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string"
                          },
                          "id_link": {
                            "type": "string"
                          },
                          "path": {
                            "type": "string"
                          },
                          "rm": {
                            "type": "string"
                          },
                          "size": {
                            "type": "string"
                          },
                          "ro": {
                            "type": "boolean"
                          },
                          "mountpoints": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "type_": {
                            "type": "string",
                            "enum": ["disk"]
                          }
                        },
                        "required": [
                          "type_",
                          "mountpoints",
                          "name",
                          "ro",
                          "rm",
                          "id_link",
                          "path",
                          "size"
                        ],
                        "additionalProperties": false
                      }
                    }
                  },
                  "required": ["blockdevices"],
                  "additionalProperties": false
                }
              },
              "required": ["status", "op_key", "data"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": [],
          "additionalProperties": false,
          "properties": {
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "show_machine_hardware_config": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "string",
                  "enum": ["nixos-facter", "nixos-generate-config", "none"]
                }
              },
              "required": ["status", "op_key", "data"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": ["machine"],
          "additionalProperties": false,
          "properties": {
            "machine": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string"
                },
                "flake": {
                  "type": "object",
                  "properties": {
                    "identifier": {
                      "type": "string"
                    },
                    "inputs_from": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "hash": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "store_path": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    }
                  },
                  "required": ["identifier"],
                  "additionalProperties": false
                },
                "nix_options": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "cached_deployment": {
                  "oneOf": [
                    {
                      "type": "null"
                    },
                    {
                      "type": "object",
                      "additionalProperties": true
                    }
                  ]
                },
                "override_target_host": {
                  "oneOf": [
                    {
                      "type": "null"
                    },
                    {
                      "type": "string"
                    }
                  ]
                },
                "override_build_host": {
                  "oneOf": [
                    {
                      "type": "null"
                    },
                    {
                      "type": "string"
                    }
                  ]
                },
                "private_key": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "host_key_check": {
                  "type": "string",
                  "enum": [0, 1, 2, 3]
                }
              },
              "required": ["flake", "name"],
              "additionalProperties": false
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "show_machine_hardware_platform": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              "required": ["status", "op_key"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": ["machine"],
          "additionalProperties": false,
          "properties": {
            "machine": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string"
                },
                "flake": {
                  "type": "object",
                  "properties": {
                    "identifier": {
                      "type": "string"
                    },
                    "inputs_from": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "hash": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "store_path": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    }
                  },
                  "required": ["identifier"],
                  "additionalProperties": false
                },
                "nix_options": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "cached_deployment": {
                  "oneOf": [
                    {
                      "type": "null"
                    },
                    {
                      "type": "object",
                      "additionalProperties": true
                    }
                  ]
                },
                "override_target_host": {
                  "oneOf": [
                    {
                      "type": "null"
                    },
                    {
                      "type": "string"
                    }
                  ]
                },
                "override_build_host": {
                  "oneOf": [
                    {
                      "type": "null"
                    },
                    {
                      "type": "string"
                    }
                  ]
                },
                "private_key": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "host_key_check": {
                  "type": "string",
                  "enum": [0, 1, 2, 3]
                }
              },
              "required": ["flake", "name"],
              "additionalProperties": false
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "generate_machine_hardware_info": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "string",
                  "enum": ["nixos-facter", "nixos-generate-config", "none"]
                }
              },
              "required": ["status", "op_key", "data"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": ["opts"],
          "additionalProperties": false,
          "properties": {
            "opts": {
              "type": "object",
              "properties": {
                "machine": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string"
                    },
                    "flake": {
                      "type": "object",
                      "properties": {
                        "identifier": {
                          "type": "string"
                        },
                        "inputs_from": {
                          "oneOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "hash": {
                          "oneOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "store_path": {
                          "oneOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "null"
                            }
                          ]
                        }
                      },
                      "required": ["identifier"],
                      "additionalProperties": false
                    },
                    "nix_options": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "cached_deployment": {
                      "oneOf": [
                        {
                          "type": "null"
                        },
                        {
                          "type": "object",
                          "additionalProperties": true
                        }
                      ]
                    },
                    "override_target_host": {
                      "oneOf": [
                        {
                          "type": "null"
                        },
                        {
                          "type": "string"
                        }
                      ]
                    },
                    "override_build_host": {
                      "oneOf": [
                        {
                          "type": "null"
                        },
                        {
                          "type": "string"
                        }
                      ]
                    },
                    "private_key": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "host_key_check": {
                      "type": "string",
                      "enum": [0, 1, 2, 3]
                    }
                  },
                  "required": ["flake", "name"],
                  "additionalProperties": false
                },
                "backend": {
                  "type": "string",
                  "enum": ["nixos-facter", "nixos-generate-config", "none"]
                },
                "password": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              "required": ["machine", "backend"],
              "additionalProperties": false
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "list_modules": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "object",
                  "properties": {
                    "modulesPerSource": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "object",
                        "additionalProperties": {
                          "type": "object",
                          "properties": {
                            "manifest": {
                              "type": "object",
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "description": {
                                  "type": "string"
                                },
                                "categories": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  }
                                },
                                "features": {
                                  "type": "object",
                                  "additionalProperties": {
                                    "type": "boolean"
                                  }
                                }
                              },
                              "required": [
                                "name",
                                "description",
                                "categories",
                                "features"
                              ],
                              "additionalProperties": false
                            },
                            "roles": {
                              "type": "object",
                              "additionalProperties": {
                                "type": "null"
                              }
                            }
                          },
                          "required": ["manifest", "roles"],
                          "additionalProperties": false
                        }
                      }
                    },
                    "localModules": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "object",
                        "properties": {
                          "manifest": {
                            "type": "object",
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "description": {
                                "type": "string"
                              },
                              "categories": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                }
                              },
                              "features": {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "boolean"
                                }
                              }
                            },
                            "required": [
                              "name",
                              "description",
                              "categories",
                              "features"
                            ],
                            "additionalProperties": false
                          },
                          "roles": {
                            "type": "object",
                            "additionalProperties": {
                              "type": "null"
                            }
                          }
                        },
                        "required": ["manifest", "roles"],
                        "additionalProperties": false
                      }
                    }
                  },
                  "required": ["modulesPerSource", "localModules"],
                  "additionalProperties": false
                }
              },
              "required": ["status", "op_key", "data"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": ["base_path"],
          "additionalProperties": false,
          "properties": {
            "base_path": {
              "type": "string"
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "get_disk_schemas": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string"
                      },
                      "readme": {
                        "type": "string"
                      },
                      "frontmatter": {
                        "type": "object",
                        "properties": {
                          "description": {
                            "type": "string"
                          },
                          "categories": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "features": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "constraints": {
                            "type": "object",
                            "additionalProperties": true
                          }
                        },
                        "required": ["description"],
                        "additionalProperties": false
                      },
                      "placeholders": {
                        "type": "object",
                        "additionalProperties": {
                          "type": "object",
                          "properties": {
                            "label": {
                              "type": "string"
                            },
                            "options": {
                              "oneOf": [
                                {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  }
                                },
                                {
                                  "type": "null"
                                }
                              ]
                            },
                            "required": {
                              "type": "boolean"
                            }
                          },
                          "required": ["label", "required"],
                          "additionalProperties": false
                        }
                      }
                    },
                    "required": [
                      "placeholders",
                      "readme",
                      "frontmatter",
                      "name"
                    ],
                    "additionalProperties": false
                  }
                }
              },
              "required": ["status", "op_key", "data"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": ["machine"],
          "additionalProperties": false,
          "properties": {
            "machine": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string"
                },
                "flake": {
                  "type": "object",
                  "properties": {
                    "identifier": {
                      "type": "string"
                    },
                    "inputs_from": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "hash": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "store_path": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    }
                  },
                  "required": ["identifier"],
                  "additionalProperties": false
                },
                "nix_options": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "cached_deployment": {
                  "oneOf": [
                    {
                      "type": "null"
                    },
                    {
                      "type": "object",
                      "additionalProperties": true
                    }
                  ]
                },
                "override_target_host": {
                  "oneOf": [
                    {
                      "type": "null"
                    },
                    {
                      "type": "string"
                    }
                  ]
                },
                "override_build_host": {
                  "oneOf": [
                    {
                      "type": "null"
                    },
                    {
                      "type": "string"
                    }
                  ]
                },
                "private_key": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "host_key_check": {
                  "type": "string",
                  "enum": [0, 1, 2, 3]
                }
              },
              "required": ["flake", "name"],
              "additionalProperties": false
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "set_machine_disk_schema": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "null"
                }
              },
              "required": ["status", "op_key"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": ["machine", "schema_name", "placeholders"],
          "additionalProperties": false,
          "properties": {
            "machine": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string"
                },
                "flake": {
                  "type": "object",
                  "properties": {
                    "identifier": {
                      "type": "string"
                    },
                    "inputs_from": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "hash": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "store_path": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    }
                  },
                  "required": ["identifier"],
                  "additionalProperties": false
                },
                "nix_options": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "cached_deployment": {
                  "oneOf": [
                    {
                      "type": "null"
                    },
                    {
                      "type": "object",
                      "additionalProperties": true
                    }
                  ]
                },
                "override_target_host": {
                  "oneOf": [
                    {
                      "type": "null"
                    },
                    {
                      "type": "string"
                    }
                  ]
                },
                "override_build_host": {
                  "oneOf": [
                    {
                      "type": "null"
                    },
                    {
                      "type": "string"
                    }
                  ]
                },
                "private_key": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "host_key_check": {
                  "type": "string",
                  "enum": [0, 1, 2, 3]
                }
              },
              "required": ["flake", "name"],
              "additionalProperties": false
            },
            "schema_name": {
              "type": "string"
            },
            "placeholders": {
              "type": "object",
              "additionalProperties": {
                "type": "string"
              }
            },
            "force": {
              "type": "boolean"
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "show_mdns": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "object",
                  "properties": {
                    "services": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "object",
                        "properties": {
                          "interface": {
                            "type": "string"
                          },
                          "protocol": {
                            "type": "string"
                          },
                          "name": {
                            "type": "string"
                          },
                          "type_": {
                            "type": "string"
                          },
                          "domain": {
                            "type": "string"
                          },
                          "host": {
                            "oneOf": [
                              {
                                "type": "string"
                              },
                              {
                                "type": "null"
                              }
                            ]
                          },
                          "ip": {
                            "oneOf": [
                              {
                                "type": "string"
                              },
                              {
                                "type": "null"
                              }
                            ]
                          },
                          "port": {
                            "oneOf": [
                              {
                                "type": "string"
                              },
                              {
                                "type": "null"
                              }
                            ]
                          },
                          "txt": {
                            "oneOf": [
                              {
                                "type": "string"
                              },
                              {
                                "type": "null"
                              }
                            ]
                          }
                        },
                        "required": [
                          "type_",
                          "name",
                          "interface",
                          "domain",
                          "protocol"
                        ],
                        "additionalProperties": false
                      }
                    }
                  },
                  "required": ["services"],
                  "additionalProperties": false
                }
              },
              "required": ["status", "op_key", "data"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": [],
          "additionalProperties": false,
          "properties": {
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "load_inventory_json": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "object",
                  "properties": {
                    "machines": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "object",
                        "properties": {
                          "deploy": {
                            "type": "object",
                            "properties": {
                              "targetHost": {
                                "type": "string"
                              }
                            },
                            "required": [],
                            "additionalProperties": false
                          },
                          "description": {
                            "type": "string"
                          },
                          "icon": {
                            "type": "string"
                          },
                          "machineClass": {
                            "type": "string",
                            "enum": ["nixos", "darwin"]
                          },
                          "name": {
                            "type": "string"
                          },
                          "tags": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          }
                        },
                        "required": [],
                        "additionalProperties": false
                      }
                    },
                    "meta": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string"
                        },
                        "description": {
                          "type": "string"
                        },
                        "icon": {
                          "type": "string"
                        }
                      },
                      "required": ["name"],
                      "additionalProperties": false
                    },
                    "modules": {
                      "type": "object",
                      "additionalProperties": true
                    },
                    "services": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "object",
                        "additionalProperties": true
                      }
                    },
                    "tags": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  },
                  "required": [],
                  "additionalProperties": false
                }
              },
              "required": ["status", "op_key", "data"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": ["flake"],
          "additionalProperties": false,
          "properties": {
            "flake": {
              "type": "object",
              "properties": {
                "identifier": {
                  "type": "string"
                },
                "inputs_from": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "hash": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "store_path": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              "required": ["identifier"],
              "additionalProperties": false
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "patch_inventory_with": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "null"
                }
              },
              "required": ["status", "op_key"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": ["flake", "section", "content"],
          "additionalProperties": false,
          "properties": {
            "flake": {
              "type": "object",
              "properties": {
                "identifier": {
                  "type": "string"
                },
                "inputs_from": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "hash": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "store_path": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              "required": ["identifier"],
              "additionalProperties": false
            },
            "section": {
              "type": "string"
            },
            "content": {
              "type": "object",
              "additionalProperties": true
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "get_inventory_with_writeable_keys": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "object",
                  "properties": {
                    "writeables": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      }
                    },
                    "data_eval": {
                      "type": "object",
                      "properties": {
                        "machines": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "deploy": {
                                "type": "object",
                                "properties": {
                                  "targetHost": {
                                    "type": "string"
                                  }
                                },
                                "required": [],
                                "additionalProperties": false
                              },
                              "description": {
                                "type": "string"
                              },
                              "icon": {
                                "type": "string"
                              },
                              "machineClass": {
                                "type": "string",
                                "enum": ["nixos", "darwin"]
                              },
                              "name": {
                                "type": "string"
                              },
                              "tags": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                }
                              }
                            },
                            "required": [],
                            "additionalProperties": false
                          }
                        },
                        "meta": {
                          "type": "object",
                          "properties": {
                            "name": {
                              "type": "string"
                            },
                            "description": {
                              "type": "string"
                            },
                            "icon": {
                              "type": "string"
                            }
                          },
                          "required": ["name"],
                          "additionalProperties": false
                        },
                        "modules": {
                          "type": "object",
                          "additionalProperties": true
                        },
                        "services": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "additionalProperties": true
                          }
                        },
                        "tags": {
                          "type": "object",
                          "additionalProperties": true
                        }
                      },
                      "required": [],
                      "additionalProperties": false
                    },
                    "data_disk": {
                      "type": "object",
                      "properties": {
                        "machines": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "deploy": {
                                "type": "object",
                                "properties": {
                                  "targetHost": {
                                    "type": "string"
                                  }
                                },
                                "required": [],
                                "additionalProperties": false
                              },
                              "description": {
                                "type": "string"
                              },
                              "icon": {
                                "type": "string"
                              },
                              "machineClass": {
                                "type": "string",
                                "enum": ["nixos", "darwin"]
                              },
                              "name": {
                                "type": "string"
                              },
                              "tags": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                }
                              }
                            },
                            "required": [],
                            "additionalProperties": false
                          }
                        },
                        "meta": {
                          "type": "object",
                          "properties": {
                            "name": {
                              "type": "string"
                            },
                            "description": {
                              "type": "string"
                            },
                            "icon": {
                              "type": "string"
                            }
                          },
                          "required": ["name"],
                          "additionalProperties": false
                        },
                        "modules": {
                          "type": "object",
                          "additionalProperties": true
                        },
                        "services": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "additionalProperties": true
                          }
                        },
                        "tags": {
                          "type": "object",
                          "additionalProperties": true
                        }
                      },
                      "required": [],
                      "additionalProperties": false
                    }
                  },
                  "required": ["data_disk", "writeables", "data_eval"],
                  "additionalProperties": false
                }
              },
              "required": ["status", "op_key", "data"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": ["flake"],
          "additionalProperties": false,
          "properties": {
            "flake": {
              "type": "object",
              "properties": {
                "identifier": {
                  "type": "string"
                },
                "inputs_from": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "hash": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "store_path": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              "required": ["identifier"],
              "additionalProperties": false
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "set_inventory": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "null"
                }
              },
              "required": ["status", "op_key"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": ["inventory", "flake", "message"],
          "additionalProperties": false,
          "properties": {
            "inventory": {
              "type": "object",
              "properties": {
                "machines": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object",
                    "properties": {
                      "deploy": {
                        "type": "object",
                        "properties": {
                          "targetHost": {
                            "type": "string"
                          }
                        },
                        "required": [],
                        "additionalProperties": false
                      },
                      "description": {
                        "type": "string"
                      },
                      "icon": {
                        "type": "string"
                      },
                      "machineClass": {
                        "type": "string",
                        "enum": ["nixos", "darwin"]
                      },
                      "name": {
                        "type": "string"
                      },
                      "tags": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      }
                    },
                    "required": [],
                    "additionalProperties": false
                  }
                },
                "meta": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string"
                    },
                    "description": {
                      "type": "string"
                    },
                    "icon": {
                      "type": "string"
                    }
                  },
                  "required": ["name"],
                  "additionalProperties": false
                },
                "modules": {
                  "type": "object",
                  "additionalProperties": true
                },
                "services": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object",
                    "additionalProperties": true
                  }
                },
                "tags": {
                  "type": "object",
                  "additionalProperties": true
                }
              },
              "required": [],
              "additionalProperties": false
            },
            "flake": {
              "type": "object",
              "properties": {
                "identifier": {
                  "type": "string"
                },
                "inputs_from": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "hash": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "store_path": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              "required": ["identifier"],
              "additionalProperties": false
            },
            "message": {
              "type": "string"
            },
            "commit": {
              "type": "boolean"
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "get_inventory": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "object",
                  "properties": {
                    "machines": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "object",
                        "properties": {
                          "deploy": {
                            "type": "object",
                            "properties": {
                              "targetHost": {
                                "type": "string"
                              }
                            },
                            "required": [],
                            "additionalProperties": false
                          },
                          "description": {
                            "type": "string"
                          },
                          "icon": {
                            "type": "string"
                          },
                          "machineClass": {
                            "type": "string",
                            "enum": ["nixos", "darwin"]
                          },
                          "name": {
                            "type": "string"
                          },
                          "tags": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          }
                        },
                        "required": [],
                        "additionalProperties": false
                      }
                    },
                    "meta": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string"
                        },
                        "description": {
                          "type": "string"
                        },
                        "icon": {
                          "type": "string"
                        }
                      },
                      "required": ["name"],
                      "additionalProperties": false
                    },
                    "modules": {
                      "type": "object",
                      "additionalProperties": true
                    },
                    "services": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "object",
                        "additionalProperties": true
                      }
                    },
                    "tags": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  },
                  "required": [],
                  "additionalProperties": false
                }
              },
              "required": ["status", "op_key", "data"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": ["flake"],
          "additionalProperties": false,
          "properties": {
            "flake": {
              "type": "object",
              "properties": {
                "identifier": {
                  "type": "string"
                },
                "inputs_from": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "hash": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "store_path": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              "required": ["identifier"],
              "additionalProperties": false
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "set_machine": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "null"
                }
              },
              "required": ["status", "op_key"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": ["flake", "machine_name", "machine"],
          "additionalProperties": false,
          "properties": {
            "flake": {
              "type": "object",
              "properties": {
                "identifier": {
                  "type": "string"
                },
                "inputs_from": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "hash": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "store_path": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              "required": ["identifier"],
              "additionalProperties": false
            },
            "machine_name": {
              "type": "string"
            },
            "machine": {
              "type": "object",
              "properties": {
                "deploy": {
                  "type": "object",
                  "properties": {
                    "targetHost": {
                      "type": "string"
                    }
                  },
                  "required": [],
                  "additionalProperties": false
                },
                "description": {
                  "type": "string"
                },
                "icon": {
                  "type": "string"
                },
                "machineClass": {
                  "type": "string",
                  "enum": ["nixos", "darwin"]
                },
                "name": {
                  "type": "string"
                },
                "tags": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              },
              "required": [],
              "additionalProperties": false
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "list_machines": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object",
                    "properties": {
                      "deploy": {
                        "type": "object",
                        "properties": {
                          "targetHost": {
                            "type": "string"
                          }
                        },
                        "required": [],
                        "additionalProperties": false
                      },
                      "description": {
                        "type": "string"
                      },
                      "icon": {
                        "type": "string"
                      },
                      "machineClass": {
                        "type": "string",
                        "enum": ["nixos", "darwin"]
                      },
                      "name": {
                        "type": "string"
                      },
                      "tags": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      }
                    },
                    "required": [],
                    "additionalProperties": false
                  }
                }
              },
              "required": ["status", "op_key", "data"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": ["flake"],
          "additionalProperties": false,
          "properties": {
            "flake": {
              "type": "object",
              "properties": {
                "identifier": {
                  "type": "string"
                },
                "inputs_from": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "hash": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "store_path": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              "required": ["identifier"],
              "additionalProperties": false
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "get_machine_details": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "object",
                  "properties": {
                    "machine": {
                      "type": "object",
                      "properties": {
                        "deploy": {
                          "type": "object",
                          "properties": {
                            "targetHost": {
                              "type": "string"
                            }
                          },
                          "required": [],
                          "additionalProperties": false
                        },
                        "description": {
                          "type": "string"
                        },
                        "icon": {
                          "type": "string"
                        },
                        "machineClass": {
                          "type": "string",
                          "enum": ["nixos", "darwin"]
                        },
                        "name": {
                          "type": "string"
                        },
                        "tags": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      },
                      "required": [],
                      "additionalProperties": false
                    },
                    "hw_config": {
                      "oneOf": [
                        {
                          "type": "string",
                          "enum": [
                            "nixos-facter",
                            "nixos-generate-config",
                            "none"
                          ]
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "disk_schema": {
                      "oneOf": [
                        {
                          "type": "object",
                          "properties": {
                            "schema_name": {
                              "type": "string"
                            },
                            "placeholders": {
                              "type": "object",
                              "additionalProperties": {
                                "type": "string"
                              }
                            }
                          },
                          "required": ["schema_name", "placeholders"],
                          "additionalProperties": false
                        },
                        {
                          "type": "null"
                        }
                      ]
                    }
                  },
                  "required": ["machine"],
                  "additionalProperties": false
                }
              },
              "required": ["status", "op_key", "data"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": ["machine"],
          "additionalProperties": false,
          "properties": {
            "machine": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string"
                },
                "flake": {
                  "type": "object",
                  "properties": {
                    "identifier": {
                      "type": "string"
                    },
                    "inputs_from": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "hash": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "store_path": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    }
                  },
                  "required": ["identifier"],
                  "additionalProperties": false
                },
                "nix_options": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "cached_deployment": {
                  "oneOf": [
                    {
                      "type": "null"
                    },
                    {
                      "type": "object",
                      "additionalProperties": true
                    }
                  ]
                },
                "override_target_host": {
                  "oneOf": [
                    {
                      "type": "null"
                    },
                    {
                      "type": "string"
                    }
                  ]
                },
                "override_build_host": {
                  "oneOf": [
                    {
                      "type": "null"
                    },
                    {
                      "type": "string"
                    }
                  ]
                },
                "private_key": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "host_key_check": {
                  "type": "string",
                  "enum": [0, 1, 2, 3]
                }
              },
              "required": ["flake", "name"],
              "additionalProperties": false
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "check_machine_online": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "string",
                  "enum": ["Online", "Offline"]
                }
              },
              "required": ["status", "op_key", "data"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": ["machine"],
          "additionalProperties": false,
          "properties": {
            "machine": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string"
                },
                "flake": {
                  "type": "object",
                  "properties": {
                    "identifier": {
                      "type": "string"
                    },
                    "inputs_from": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "hash": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "store_path": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    }
                  },
                  "required": ["identifier"],
                  "additionalProperties": false
                },
                "nix_options": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "cached_deployment": {
                  "oneOf": [
                    {
                      "type": "null"
                    },
                    {
                      "type": "object",
                      "additionalProperties": true
                    }
                  ]
                },
                "override_target_host": {
                  "oneOf": [
                    {
                      "type": "null"
                    },
                    {
                      "type": "string"
                    }
                  ]
                },
                "override_build_host": {
                  "oneOf": [
                    {
                      "type": "null"
                    },
                    {
                      "type": "string"
                    }
                  ]
                },
                "private_key": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "host_key_check": {
                  "type": "string",
                  "enum": [0, 1, 2, 3]
                }
              },
              "required": ["flake", "name"],
              "additionalProperties": false
            },
            "opts": {
              "oneOf": [
                {
                  "type": "object",
                  "properties": {
                    "timeout": {
                      "type": "integer"
                    },
                    "retries": {
                      "type": "integer"
                    }
                  },
                  "required": [],
                  "additionalProperties": false
                },
                {
                  "type": "null"
                }
              ]
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "get_generators_closure": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string"
                      },
                      "files": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "name": {
                              "type": "string"
                            },
                            "secret": {
                              "type": "boolean"
                            },
                            "deploy": {
                              "type": "boolean"
                            },
                            "owner": {
                              "type": "string"
                            },
                            "group": {
                              "type": "string"
                            },
                            "mode": {
                              "type": "integer"
                            },
                            "needed_for": {
                              "type": "string"
                            }
                          },
                          "required": ["id", "name"],
                          "additionalProperties": false
                        }
                      },
                      "share": {
                        "type": "boolean"
                      },
                      "prompts": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "name": {
                              "type": "string"
                            },
                            "description": {
                              "type": "string"
                            },
                            "prompt_type": {
                              "type": "string",
                              "enum": ["line", "hidden", "multiline"]
                            },
                            "persist": {
                              "type": "boolean"
                            },
                            "previous_value": {
                              "oneOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "null"
                                }
                              ]
                            }
                          },
                          "required": ["prompt_type", "description", "name"],
                          "additionalProperties": false
                        }
                      },
                      "dependencies": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "migrate_fact": {
                        "oneOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "null"
                          }
                        ]
                      }
                    },
                    "required": ["name"],
                    "additionalProperties": false
                  }
                }
              },
              "required": ["status", "op_key", "data"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": ["machine_name", "base_dir"],
          "additionalProperties": false,
          "properties": {
            "machine_name": {
              "type": "string"
            },
            "base_dir": {
              "type": "string"
            },
            "regenerate": {
              "type": "boolean"
            },
            "include_previous_values": {
              "type": "boolean"
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "generate_vars_for_machine": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "boolean"
                }
              },
              "required": ["status", "op_key", "data"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": [
            "machine_name",
            "generators",
            "all_prompt_values",
            "base_dir"
          ],
          "additionalProperties": false,
          "properties": {
            "machine_name": {
              "type": "string"
            },
            "generators": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "all_prompt_values": {
              "type": "object",
              "additionalProperties": {
                "type": "object",
                "additionalProperties": {
                  "type": "string"
                }
              }
            },
            "base_dir": {
              "type": "string"
            },
            "no_sandbox": {
              "type": "boolean"
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "create_clan": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "object",
                  "properties": {
                    "flake_update": {
                      "oneOf": [
                        {
                          "type": "object",
                          "properties": {
                            "stdout": {
                              "type": "string"
                            },
                            "stderr": {
                              "type": "string"
                            },
                            "env": {
                              "oneOf": [
                                {
                                  "type": "object",
                                  "additionalProperties": {
                                    "type": "string"
                                  }
                                },
                                {
                                  "type": "null"
                                }
                              ]
                            },
                            "cwd": {
                              "type": "string"
                            },
                            "command_list": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "returncode": {
                              "type": "integer"
                            },
                            "msg": {
                              "oneOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "null"
                                }
                              ]
                            }
                          },
                          "required": [
                            "cwd",
                            "stderr",
                            "command_list",
                            "returncode",
                            "stdout"
                          ],
                          "additionalProperties": false
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "git_init": {
                      "oneOf": [
                        {
                          "type": "object",
                          "properties": {
                            "stdout": {
                              "type": "string"
                            },
                            "stderr": {
                              "type": "string"
                            },
                            "env": {
                              "oneOf": [
                                {
                                  "type": "object",
                                  "additionalProperties": {
                                    "type": "string"
                                  }
                                },
                                {
                                  "type": "null"
                                }
                              ]
                            },
                            "cwd": {
                              "type": "string"
                            },
                            "command_list": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "returncode": {
                              "type": "integer"
                            },
                            "msg": {
                              "oneOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "null"
                                }
                              ]
                            }
                          },
                          "required": [
                            "cwd",
                            "stderr",
                            "command_list",
                            "returncode",
                            "stdout"
                          ],
                          "additionalProperties": false
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "git_add": {
                      "oneOf": [
                        {
                          "type": "object",
                          "properties": {
                            "stdout": {
                              "type": "string"
                            },
                            "stderr": {
                              "type": "string"
                            },
                            "env": {
                              "oneOf": [
                                {
                                  "type": "object",
                                  "additionalProperties": {
                                    "type": "string"
                                  }
                                },
                                {
                                  "type": "null"
                                }
                              ]
                            },
                            "cwd": {
                              "type": "string"
                            },
                            "command_list": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "returncode": {
                              "type": "integer"
                            },
                            "msg": {
                              "oneOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "null"
                                }
                              ]
                            }
                          },
                          "required": [
                            "cwd",
                            "stderr",
                            "command_list",
                            "returncode",
                            "stdout"
                          ],
                          "additionalProperties": false
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "git_config_username": {
                      "oneOf": [
                        {
                          "type": "object",
                          "properties": {
                            "stdout": {
                              "type": "string"
                            },
                            "stderr": {
                              "type": "string"
                            },
                            "env": {
                              "oneOf": [
                                {
                                  "type": "object",
                                  "additionalProperties": {
                                    "type": "string"
                                  }
                                },
                                {
                                  "type": "null"
                                }
                              ]
                            },
                            "cwd": {
                              "type": "string"
                            },
                            "command_list": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "returncode": {
                              "type": "integer"
                            },
                            "msg": {
                              "oneOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "null"
                                }
                              ]
                            }
                          },
                          "required": [
                            "cwd",
                            "stderr",
                            "command_list",
                            "returncode",
                            "stdout"
                          ],
                          "additionalProperties": false
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "git_config_email": {
                      "oneOf": [
                        {
                          "type": "object",
                          "properties": {
                            "stdout": {
                              "type": "string"
                            },
                            "stderr": {
                              "type": "string"
                            },
                            "env": {
                              "oneOf": [
                                {
                                  "type": "object",
                                  "additionalProperties": {
                                    "type": "string"
                                  }
                                },
                                {
                                  "type": "null"
                                }
                              ]
                            },
                            "cwd": {
                              "type": "string"
                            },
                            "command_list": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "returncode": {
                              "type": "integer"
                            },
                            "msg": {
                              "oneOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "null"
                                }
                              ]
                            }
                          },
                          "required": [
                            "cwd",
                            "stderr",
                            "command_list",
                            "returncode",
                            "stdout"
                          ],
                          "additionalProperties": false
                        },
                        {
                          "type": "null"
                        }
                      ]
                    }
                  },
                  "required": [],
                  "additionalProperties": false
                }
              },
              "required": ["status", "op_key", "data"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": ["opts"],
          "additionalProperties": false,
          "properties": {
            "opts": {
              "type": "object",
              "properties": {
                "dest": {
                  "type": "string"
                },
                "template_name": {
                  "type": "string"
                },
                "src_flake": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "identifier": {
                          "type": "string"
                        },
                        "inputs_from": {
                          "oneOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "hash": {
                          "oneOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "store_path": {
                          "oneOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "null"
                            }
                          ]
                        }
                      },
                      "required": ["identifier"],
                      "additionalProperties": false
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "input_prio": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "input_names": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "prioritize_self": {
                          "type": "boolean"
                        }
                      },
                      "required": ["input_names"],
                      "additionalProperties": false
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "setup_git": {
                  "type": "boolean"
                },
                "initial": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "machines": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "deploy": {
                                "type": "object",
                                "properties": {
                                  "targetHost": {
                                    "type": "string"
                                  }
                                },
                                "required": [],
                                "additionalProperties": false
                              },
                              "description": {
                                "type": "string"
                              },
                              "icon": {
                                "type": "string"
                              },
                              "machineClass": {
                                "type": "string",
                                "enum": ["nixos", "darwin"]
                              },
                              "name": {
                                "type": "string"
                              },
                              "tags": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                }
                              }
                            },
                            "required": [],
                            "additionalProperties": false
                          }
                        },
                        "meta": {
                          "type": "object",
                          "properties": {
                            "name": {
                              "type": "string"
                            },
                            "description": {
                              "type": "string"
                            },
                            "icon": {
                              "type": "string"
                            }
                          },
                          "required": ["name"],
                          "additionalProperties": false
                        },
                        "modules": {
                          "type": "object",
                          "additionalProperties": true
                        },
                        "services": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "additionalProperties": true
                          }
                        },
                        "tags": {
                          "type": "object",
                          "additionalProperties": true
                        }
                      },
                      "required": [],
                      "additionalProperties": false
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "update_clan": {
                  "type": "boolean"
                }
              },
              "required": ["dest", "template_name"],
              "additionalProperties": false
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "show_clan_meta": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string"
                    },
                    "description": {
                      "type": "string"
                    },
                    "icon": {
                      "type": "string"
                    }
                  },
                  "required": ["name"],
                  "additionalProperties": false
                }
              },
              "required": ["status", "op_key", "data"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": ["flake"],
          "additionalProperties": false,
          "properties": {
            "flake": {
              "type": "object",
              "properties": {
                "identifier": {
                  "type": "string"
                },
                "inputs_from": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "hash": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "store_path": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              "required": ["identifier"],
              "additionalProperties": false
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "update_clan_meta": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "object",
                  "properties": {
                    "machines": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "object",
                        "properties": {
                          "deploy": {
                            "type": "object",
                            "properties": {
                              "targetHost": {
                                "type": "string"
                              }
                            },
                            "required": [],
                            "additionalProperties": false
                          },
                          "description": {
                            "type": "string"
                          },
                          "icon": {
                            "type": "string"
                          },
                          "machineClass": {
                            "type": "string",
                            "enum": ["nixos", "darwin"]
                          },
                          "name": {
                            "type": "string"
                          },
                          "tags": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          }
                        },
                        "required": [],
                        "additionalProperties": false
                      }
                    },
                    "meta": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string"
                        },
                        "description": {
                          "type": "string"
                        },
                        "icon": {
                          "type": "string"
                        }
                      },
                      "required": ["name"],
                      "additionalProperties": false
                    },
                    "modules": {
                      "type": "object",
                      "additionalProperties": true
                    },
                    "services": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "object",
                        "additionalProperties": true
                      }
                    },
                    "tags": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  },
                  "required": [],
                  "additionalProperties": false
                }
              },
              "required": ["status", "op_key", "data"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": ["options"],
          "additionalProperties": false,
          "properties": {
            "options": {
              "type": "object",
              "properties": {
                "flake": {
                  "type": "object",
                  "properties": {
                    "identifier": {
                      "type": "string"
                    },
                    "inputs_from": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "hash": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "store_path": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    }
                  },
                  "required": ["identifier"],
                  "additionalProperties": false
                },
                "meta": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string"
                    },
                    "description": {
                      "type": "string"
                    },
                    "icon": {
                      "type": "string"
                    }
                  },
                  "required": ["name"],
                  "additionalProperties": false
                }
              },
              "required": ["flake", "meta"],
              "additionalProperties": false
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "maybe_get_admin_public_key": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "pubkey": {
                          "type": "string"
                        },
                        "username": {
                          "type": "string"
                        },
                        "key_type": {
                          "type": "string",
                          "enum": [1, 2]
                        }
                      },
                      "required": ["key_type", "username", "pubkey"],
                      "additionalProperties": false
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              "required": ["status", "op_key"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": [],
          "additionalProperties": false,
          "properties": {
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "list_possible_languages": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              },
              "required": ["status", "op_key", "data"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": [],
          "additionalProperties": false,
          "properties": {
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "list_possible_keymaps": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              },
              "required": ["status", "op_key", "data"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": [],
          "additionalProperties": false,
          "properties": {
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "flash_machine": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "null"
                }
              },
              "required": ["status", "op_key"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": [
            "machine",
            "mode",
            "disks",
            "system_config",
            "dry_run",
            "write_efi_boot_entries",
            "debug"
          ],
          "additionalProperties": false,
          "properties": {
            "machine": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string"
                },
                "flake": {
                  "type": "object",
                  "properties": {
                    "identifier": {
                      "type": "string"
                    },
                    "inputs_from": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "hash": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "store_path": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    }
                  },
                  "required": ["identifier"],
                  "additionalProperties": false
                },
                "nix_options": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "cached_deployment": {
                  "oneOf": [
                    {
                      "type": "null"
                    },
                    {
                      "type": "object",
                      "additionalProperties": true
                    }
                  ]
                },
                "override_target_host": {
                  "oneOf": [
                    {
                      "type": "null"
                    },
                    {
                      "type": "string"
                    }
                  ]
                },
                "override_build_host": {
                  "oneOf": [
                    {
                      "type": "null"
                    },
                    {
                      "type": "string"
                    }
                  ]
                },
                "private_key": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "host_key_check": {
                  "type": "string",
                  "enum": [0, 1, 2, 3]
                }
              },
              "required": ["flake", "name"],
              "additionalProperties": false
            },
            "mode": {
              "type": "string"
            },
            "disks": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "device": {
                    "type": "string"
                  }
                },
                "required": ["device", "name"],
                "additionalProperties": false
              }
            },
            "system_config": {
              "type": "object",
              "properties": {
                "language": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "keymap": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "ssh_keys_path": {
                  "oneOf": [
                    {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              "required": [],
              "additionalProperties": false
            },
            "dry_run": {
              "type": "boolean"
            },
            "write_efi_boot_entries": {
              "type": "boolean"
            },
            "debug": {
              "type": "boolean"
            },
            "extra_args": {
              "oneOf": [
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                {
                  "type": "null"
                }
              ]
            },
            "graphical": {
              "type": "boolean"
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "create_machine": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "null"
                }
              },
              "required": ["status", "op_key"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": ["opts"],
          "additionalProperties": false,
          "properties": {
            "opts": {
              "type": "object",
              "properties": {
                "clan_dir": {
                  "type": "object",
                  "properties": {
                    "identifier": {
                      "type": "string"
                    },
                    "inputs_from": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "hash": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "store_path": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    }
                  },
                  "required": ["identifier"],
                  "additionalProperties": false
                },
                "machine": {
                  "type": "object",
                  "properties": {
                    "deploy": {
                      "type": "object",
                      "properties": {
                        "targetHost": {
                          "type": "string"
                        }
                      },
                      "required": [],
                      "additionalProperties": false
                    },
                    "description": {
                      "type": "string"
                    },
                    "icon": {
                      "type": "string"
                    },
                    "machineClass": {
                      "type": "string",
                      "enum": ["nixos", "darwin"]
                    },
                    "name": {
                      "type": "string"
                    },
                    "tags": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  },
                  "required": [],
                  "additionalProperties": false
                },
                "target_host": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "input_prio": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "input_names": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "prioritize_self": {
                          "type": "boolean"
                        }
                      },
                      "required": ["input_names"],
                      "additionalProperties": false
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "template_name": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              "required": ["machine", "clan_dir"],
              "additionalProperties": false
            },
            "commit": {
              "type": "boolean"
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "delete_machine": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "null"
                }
              },
              "required": ["status", "op_key"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": ["machine"],
          "additionalProperties": false,
          "properties": {
            "machine": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string"
                },
                "flake": {
                  "type": "object",
                  "properties": {
                    "identifier": {
                      "type": "string"
                    },
                    "inputs_from": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "hash": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "store_path": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    }
                  },
                  "required": ["identifier"],
                  "additionalProperties": false
                },
                "nix_options": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "cached_deployment": {
                  "oneOf": [
                    {
                      "type": "null"
                    },
                    {
                      "type": "object",
                      "additionalProperties": true
                    }
                  ]
                },
                "override_target_host": {
                  "oneOf": [
                    {
                      "type": "null"
                    },
                    {
                      "type": "string"
                    }
                  ]
                },
                "override_build_host": {
                  "oneOf": [
                    {
                      "type": "null"
                    },
                    {
                      "type": "string"
                    }
                  ]
                },
                "private_key": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "host_key_check": {
                  "type": "string",
                  "enum": [0, 1, 2, 3]
                }
              },
              "required": ["flake", "name"],
              "additionalProperties": false
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "install_machine": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "null"
                }
              },
              "required": ["status", "op_key"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": ["opts"],
          "additionalProperties": false,
          "properties": {
            "opts": {
              "type": "object",
              "properties": {
                "machine": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string"
                    },
                    "flake": {
                      "type": "object",
                      "properties": {
                        "identifier": {
                          "type": "string"
                        },
                        "inputs_from": {
                          "oneOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "hash": {
                          "oneOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "null"
                            }
                          ]
                        },
                        "store_path": {
                          "oneOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "null"
                            }
                          ]
                        }
                      },
                      "required": ["identifier"],
                      "additionalProperties": false
                    },
                    "nix_options": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "cached_deployment": {
                      "oneOf": [
                        {
                          "type": "null"
                        },
                        {
                          "type": "object",
                          "additionalProperties": true
                        }
                      ]
                    },
                    "override_target_host": {
                      "oneOf": [
                        {
                          "type": "null"
                        },
                        {
                          "type": "string"
                        }
                      ]
                    },
                    "override_build_host": {
                      "oneOf": [
                        {
                          "type": "null"
                        },
                        {
                          "type": "string"
                        }
                      ]
                    },
                    "private_key": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "host_key_check": {
                      "type": "string",
                      "enum": [0, 1, 2, 3]
                    }
                  },
                  "required": ["flake", "name"],
                  "additionalProperties": false
                },
                "kexec": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "debug": {
                  "type": "boolean"
                },
                "no_reboot": {
                  "type": "boolean"
                },
                "phases": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "build_on": {
                  "oneOf": [
                    {
                      "type": "string",
                      "enum": ["auto", "local", "remote"]
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "nix_options": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "update_hardware_config": {
                  "type": "string",
                  "enum": ["nixos-facter", "nixos-generate-config", "none"]
                },
                "password": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "identity_file": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "use_tor": {
                  "type": "boolean"
                }
              },
              "required": ["machine"],
              "additionalProperties": false
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "deploy_machine": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "null"
                }
              },
              "required": ["status", "op_key"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": ["machine"],
          "additionalProperties": false,
          "properties": {
            "machine": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string"
                },
                "flake": {
                  "type": "object",
                  "properties": {
                    "identifier": {
                      "type": "string"
                    },
                    "inputs_from": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "hash": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "store_path": {
                      "oneOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    }
                  },
                  "required": ["identifier"],
                  "additionalProperties": false
                },
                "nix_options": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "cached_deployment": {
                  "oneOf": [
                    {
                      "type": "null"
                    },
                    {
                      "type": "object",
                      "additionalProperties": true
                    }
                  ]
                },
                "override_target_host": {
                  "oneOf": [
                    {
                      "type": "null"
                    },
                    {
                      "type": "string"
                    }
                  ]
                },
                "override_build_host": {
                  "oneOf": [
                    {
                      "type": "null"
                    },
                    {
                      "type": "string"
                    }
                  ]
                },
                "private_key": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "host_key_check": {
                  "type": "string",
                  "enum": [0, 1, 2, 3]
                }
              },
              "required": ["flake", "name"],
              "additionalProperties": false
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "get_vars": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "secret": {
                        "type": "boolean"
                      },
                      "deploy": {
                        "type": "boolean"
                      },
                      "owner": {
                        "type": "string"
                      },
                      "group": {
                        "type": "string"
                      },
                      "mode": {
                        "type": "integer"
                      },
                      "needed_for": {
                        "type": "string"
                      }
                    },
                    "required": ["id", "name"],
                    "additionalProperties": false
                  }
                }
              },
              "required": ["status", "op_key", "data"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": ["base_dir", "machine_name"],
          "additionalProperties": false,
          "properties": {
            "base_dir": {
              "type": "string"
            },
            "machine_name": {
              "type": "string"
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "get_generators": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string"
                      },
                      "files": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "name": {
                              "type": "string"
                            },
                            "secret": {
                              "type": "boolean"
                            },
                            "deploy": {
                              "type": "boolean"
                            },
                            "owner": {
                              "type": "string"
                            },
                            "group": {
                              "type": "string"
                            },
                            "mode": {
                              "type": "integer"
                            },
                            "needed_for": {
                              "type": "string"
                            }
                          },
                          "required": ["id", "name"],
                          "additionalProperties": false
                        }
                      },
                      "share": {
                        "type": "boolean"
                      },
                      "prompts": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "name": {
                              "type": "string"
                            },
                            "description": {
                              "type": "string"
                            },
                            "prompt_type": {
                              "type": "string",
                              "enum": ["line", "hidden", "multiline"]
                            },
                            "persist": {
                              "type": "boolean"
                            },
                            "previous_value": {
                              "oneOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "null"
                                }
                              ]
                            }
                          },
                          "required": ["prompt_type", "description", "name"],
                          "additionalProperties": false
                        }
                      },
                      "dependencies": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "migrate_fact": {
                        "oneOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "null"
                          }
                        ]
                      }
                    },
                    "required": ["name"],
                    "additionalProperties": false
                  }
                }
              },
              "required": ["status", "op_key", "data"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": ["base_dir", "machine_name"],
          "additionalProperties": false,
          "properties": {
            "base_dir": {
              "type": "string"
            },
            "machine_name": {
              "type": "string"
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "set_prompts": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "null"
                }
              },
              "required": ["status", "op_key"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": ["base_dir", "machine_name", "updates"],
          "additionalProperties": false,
          "properties": {
            "base_dir": {
              "type": "string"
            },
            "machine_name": {
              "type": "string"
            },
            "updates": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "generator": {
                    "type": "string"
                  },
                  "prompt_values": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "string"
                    }
                  }
                },
                "required": ["generator", "prompt_values"],
                "additionalProperties": false
              }
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "get_var": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "name": {
                      "type": "string"
                    },
                    "secret": {
                      "type": "boolean"
                    },
                    "deploy": {
                      "type": "boolean"
                    },
                    "owner": {
                      "type": "string"
                    },
                    "group": {
                      "type": "string"
                    },
                    "mode": {
                      "type": "integer"
                    },
                    "needed_for": {
                      "type": "string"
                    }
                  },
                  "required": ["id", "name"],
                  "additionalProperties": false
                }
              },
              "required": ["status", "op_key", "data"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": ["base_dir", "machine_name", "var_id"],
          "additionalProperties": false,
          "properties": {
            "base_dir": {
              "type": "string"
            },
            "machine_name": {
              "type": "string"
            },
            "var_id": {
              "type": "string"
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    },
    "keygen": {
      "type": "object",
      "required": ["arguments", "return"],
      "additionalProperties": false,
      "properties": {
        "return": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "op_key": {
                  "type": "string"
                },
                "status": {
                  "type": "string",
                  "enum": ["success"],
                  "description": "The status of the response."
                },
                "data": {
                  "type": "null"
                }
              },
              "required": ["status", "op_key"],
              "additionalProperties": false
            },
            {
              "$ref": "#/$defs/error"
            }
          ]
        },
        "arguments": {
          "type": "object",
          "required": ["flake_dir"],
          "additionalProperties": false,
          "properties": {
            "flake_dir": {
              "type": "string"
            },
            "user": {
              "oneOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ]
            },
            "force": {
              "type": "boolean"
            },
            "op_key": {
              "type": "string"
            }
          }
        }
      }
    }
  },
  "$defs": {
    "error": {
      "type": "object",
      "properties": {
        "op_key": {
          "type": "string"
        },
        "status": {
          "type": "string",
          "enum": ["error"]
        },
        "errors": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "message": {
                "type": "string"
              },
              "description": {
                "oneOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "location": {
                "oneOf": [
                  {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  {
                    "type": "null"
                  }
                ]
              }
            },
            "required": ["message"],
            "additionalProperties": false
          }
        }
      },
      "required": ["errors", "status", "op_key"],
      "additionalProperties": false
    }
  }
}
